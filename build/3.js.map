{"version":3,"sources":["webpack:///./app/video/VideoBox.js","webpack:///./app/video/Videos.js"],"names":[],"mappings":";;;;;gEAAA,yNACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,4CAA4C;;;AAG5C;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,qC;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,G;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gB;AACA;AACA;;AAEA;;AAEA;;AAEA,+BAA+B,cAAc;AAC7C,QAAQ,cAAc;AACtB;AACA;AACA,IAAI;AACJ;;;AAGA,8BAA8B,cAAc;AAC5C,QAAQ,cAAc;AACtB;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;AAAA,qG;;;;;;;gECjLD,wKACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B;;AAE7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF,CAAC;AAAA,qG","file":"./build/3.js","sourcesContent":["define([\"video/MediaElement\", \"graphics/Context\", \"jquery\", \"controller/Mediator\", \"tween.js\", \"pixi-filters\"], \n\tfunction (MediaElement, Context, $, Mediator, TWEEN, PIXIFilters) {\n\n\t// var texture = PIXI.Texture.fromVideo(MediaElement.video);\n\tvar texture = new PIXI.Texture.fromVideo(MediaElement.video);\n\n\tvar dropShadow = new PIXIFilters.DropShadowFilter();\n\n\tvar pixelate = new PIXIFilters.PixelateFilter();\n\n\twindow.pixelate = pixelate;\n\t/*pixelate.size.x = MediaElement.height / 40;\n\tpixelate.size.y = MediaElement.height / 40;*/\n\n\n\tvar Box = function(index){\n\n\t\tthis.index = index;\n\n\t\tthis.width = 0;\n\n\t\tthis.height = 1/3;\n\n\t\t/**\n\t\t *  which video it's playing\n\t\t *  @type  {Number}\n\t\t */\n\t\tthis.position = 0;\n\n\t\t/**\n\t\t *  the overall container\n\t\t */\n\t\tthis.container = new PIXI.Container();\n\n\t\t// this.container.filters = [dropShadow];\n\n\n\t\tthis.video = new PIXI.Sprite(texture);\n\t\tthis.container.addChild(this.video);\n\n\t\tthis.text = new PIXI.Text(\"CLICK HERE\", {\n\t\t\tfontFamily : \"sans-serif\", \n\t\t\tfontSize : \"50px\",\n\t\t\tfill : 0xffffff, \n\t\t\talign : \"center\",\n\t\t\tdropShadow : true,\n\t\t\tdropShadowColor: 0x00ff00\n\t\t});\n\t\tthis.text.alpha = 0;\n\t\tthis.container.addChild(this.text);\t\t\n\n\t\tthis.mask = new PIXI.Graphics();\n\t\tthis.container.addChild(this.mask);\n\t\t\n\t\t// this.video.texture.trim = new PIXI.Rectangle(0, 0, MediaElement.width*3, MediaElement.height)\n\n\t\tthis.container.mask = this.mask;\n\n\t\tContext.addChild(this.container);\n\n\t\t//make it interactive\n\t\tthis.mask.interactive = true;\n\t\tthis.mask.mousedown = this.mousedown.bind(this);\n\t\tthis.mask.touchstart = this.mousedown.bind(this);\n\t\tthis.mask.mouseup = this.mouseup.bind(this);\n\t\tthis.mask.touchend = this.mouseup.bind(this);\n\t\tthis.mask.mouseover = this.hover.bind(this);\n\t\tthis.mask.mouseout = this.out.bind(this);\n\n\t\tthis.size();\n\t\tthis.draw();\n\n\t\tMediator.on(\"first\", this.first.bind(this));\n\t\tMediator.on(\"resize\", this.resize.bind(this));\n\t};\n\n\tvar controlHeight = 70;\n\n\t/**\n\t *  size and position the box\n\t */\n\tBox.prototype.size = function(){\n\t\tvar width = 0.9;\n\t\tif (Context.width < 500){\n\t\t\twidth = 0.95;\n\t\t}\n\t\tthis.container.width = Context.width * width;\n\t\tvar ratio = MediaElement.width / MediaElement.height;\n\t\tvar height = this.container.width * (1 / ratio);\n\t\tvar scale = (Context.width * width) / MediaElement.width;\n\t\tif (Context.width / (Context.height - controlHeight) > ratio){\n\t\t\twidth *= ratio / (Context.width / (Context.height - controlHeight));\n\t\t\tthis.container.width = Context.width * width;\n\t\t\theight = this.container.width * (1 / ratio);\n\t\t}\n\t\tthis.container.position.x = Context.width * ((1 - width) / 2);\n\t\tthis.container.scale.x = this.container.scale.y= this.container.width / MediaElement.width;\n\t\tvar top = ((Context.height - controlHeight) / 2) - height / 2 + this.index * 5;\n\t\tthis.container.position.y = Math.max(top, 10);\n\t};\n\n\tBox.prototype.resize = function(){\n\t\tthis.size();\n\t\tthis.draw();\n\t};\n\n\t/**\n\t *  height is normalized between 0-1\n\t */\n\tBox.prototype.draw = function(){\n\t\tthis.mask.clear();\n\t\tthis.mask.beginFill(0x000000, 1);\n\t\tvar top = 0;\n\t\tvar left = 0;\n\t\tif (this.index === 1){\n\t\t\ttop = (MediaElement.height - this.height * MediaElement.height) / 2;\n\t\t\tleft = MediaElement.width - MediaElement.width * this.width;\n\t\t} else if (this.index === 2){\n\t\t\ttop = (MediaElement.height - this.height * MediaElement.height);\n\t\t} \n\t\tthis.mask.drawRect(left, top, MediaElement.width * this.width, this.height * MediaElement.height);\n\t\tthis.text.position.y = top + (this.height / 2) * MediaElement.height - this.text.height / 2;\n\t\tthis.text.position.x = this.width / 2 * MediaElement.width - this.text.width / 2;\n\t};\n\n\tBox.prototype.mousedown = function(){\n\t\t// this.container.filters = [dropShadow];\n\t\tthis.video.filters = [pixelate];\n\t\tthis.position++;\n\t\tthis.position = this.position % 3;\n\t\tthis.video.position.x = - MediaElement.width * this.position;\n\t\tthis.draw();\n\t};\n\n\tBox.prototype.mouseup = function(){\n\t\tthis.video.filters = null;\n\t};\n\n\tBox.prototype.hover = function(){\n\t\t$(\"body\").css(\"cursor\", \"pointer\");\n\t\tif (this.onhover){\n\t\t\tthis.onhover();\t\t\t\n\t\t}\n\t};\n\n\tBox.prototype.out = function(){\n\t\tthis.mouseup();\n\t\t$(\"body\").css(\"cursor\", \"initial\");\n\t\tif (this.onout){\n\t\t\tthis.onout();\t\t\t\n\t\t}\n\t};\n\n\tBox.prototype.first = function(){\n\n\t\tvar text = this.text;\n\n\t\tvar close = new TWEEN.Tween({\"opacity\" : 1})\n\t\t\t.to({\"opacity\" : 0}, 200)\n\t\t\t.onUpdate(function(){\n\t\t\t\ttext.alpha = this.opacity;\n\t\t\t})\n\t\t\t.delay(700);\n\n\n\t\tvar open = new TWEEN.Tween({\"opacity\" : 0})\n\t\t\t.to({\"opacity\" : 1}, 200)\n\t\t\t.onUpdate(function(){\n\t\t\t\ttext.alpha = this.opacity;\n\t\t\t})\n\t\t\t.delay(this.index * 300 + 500)\n\t\t\t.chain(close)\n\t\t\t.start();\n\t};\n\n\treturn Box;\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/video/VideoBox.js\n// module id = 217\n// module chunks = 3","define([\"video/MediaElement\", \"video/VideoBox\", \"tween.js\", \"controller/Mediator\"], \n\tfunction (MediaElement, VideoBox, TWEEN, Mediator) {\n\t\n\tvar box0 = new VideoBox(0);\n\n\tvar box1 = new VideoBox(1);\n\n\tvar box2 = new VideoBox(2);\n\n\tvar boxes = [box0, box1, box2];\n\n\twindow.box = box2;\n/*\n\tbox0.onhover = expandBox.bind(window, 0);\n\tbox1.onhover = expandBox.bind(window, 1);\n\tbox2.onhover = expandBox.bind(window, 2);\n\n\tbox0.onout = returnToNormal;\n\tbox1.onout = returnToNormal;\n\tbox2.onout = returnToNormal;*/\n\n\tvar tween = new TWEEN.Tween();\n\n\tfunction returnToNormal(){\n\t\ttween.stop();\n\t\ttween = new TWEEN.Tween({\n\t\t\tbox0 : box0.height,\n\t\t\tbox1 : box1.height,\n\t\t\tbox2 : box2.height,\n\t\t}).to({\n\t\t\tbox0 : 1/3,\n\t\t\tbox1 : 1/3,\n\t\t\tbox2 : 1/3,\n\t\t}, 1000).onUpdate(function(){\n\t\t\tbox0.height = this.box0;\n\t\t\tbox0.draw();\n\t\t\tbox1.height = this.box1;\n\t\t\tbox1.draw();\n\t\t\tbox2.height = this.box2;\n\t\t\tbox2.draw();\n\t\t}).start();\n\t}\n\n\tfunction expandBox(index){\n\t\ttween.stop();\n\t\ttween = new TWEEN.Tween({\n\t\t\tbox0 : box0.height,\n\t\t\tbox1 : box1.height,\n\t\t\tbox2 : box2.height,\n\t\t}).to({\n\t\t\tbox0 : 0.5,\n\t\t\tbox1 : 0.25,\n\t\t\tbox2 : 0.25,\n\t\t}, 1000).onUpdate(function(){\n\t\t\tbox0.height = this.box0;\n\t\t\tbox0.draw();\n\t\t\tbox1.height = this.box1;\n\t\t\tbox1.draw();\n\t\t\tbox2.height = this.box2;\n\t\t\tbox2.draw();\n\t\t}).start();\n\t}\n\n\tMediator.on(\"start\", function (){\n\t\tvar openTween = new TWEEN.Tween({\n\t\t\twidth : 0\n\t\t}).to({\n\t\t\twidth : 1\n\t\t}, 700).onUpdate(function(){\n\t\t\tfor (var i = 0; i < boxes.length; i++){\n\t\t\t\tboxes[i].width = this.width;\n\t\t\t\tboxes[i].draw();\n\t\t\t}\n\t\t}).start().easing(TWEEN.Easing.Quadratic.InOut);\n\t});\n\n\tMediator.on(\"stop\", function (){\n\t\tvar openTween = new TWEEN.Tween({\n\t\t\twidth : 1\n\t\t}).to({\n\t\t\twidth : 0\n\t\t}, 400).onUpdate(function(){\n\t\t\tfor (var i = 0; i < boxes.length; i++){\n\t\t\t\tboxes[i].width = this.width;\n\t\t\t\tboxes[i].draw();\n\t\t\t}\n\t\t}).start().easing(TWEEN.Easing.Quadratic.InOut);\n\t});\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/video/Videos.js\n// module id = 8\n// module chunks = 3"],"sourceRoot":""}